<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Me</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="shortcut icon" href="../mcpfp - rafid.png" type="image/x-icon">
  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  
  <script type="text/javascript">
    // Initialize EmailJS with Public Key
    (function() {
      emailjs.init("-KtSqHQFVHRpHWBrq");
    })();
  </script>
  <style>
    body {
      background-color: rgb(230, 208, 179);
    }
    .contact-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .contact-container {
      max-width: 600px;
      width: 100%;
      text-align: center;
    }

    .contact-title {
      font-size: 48px;
      margin-bottom: 20px;
      color: var(--text);
    }

    .contact-subtitle {
      font-size: 18px;
      color: var(--text-muted);
      margin-bottom: 40px;
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      text-align: left;
    }

    .form-group label {
      font-size: 14px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 8px;
    }

    .form-group input,
    .form-group textarea {
      padding: 12px 15px;
      border: 2px solid var(--primary-color);
      background-color: var(--surface);
      color: var(--text);
      border-radius: 6px;
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: white;
      box-shadow: 0 0 8px rgba(30, 144, 255, 0.3);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 150px;
    }

    .error {
      color: #ff6b6b;
      font-size: 12px;
      margin-top: 5px;
      display: none;
    }

    .error.show {
      display: block;
    }

    .submit-btn {
      padding: 12px 30px;
      border: 2px solid var(--primary-color);
      background-color: var(--primary-color);
      color: white;
      border-radius: 50px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
    }

    .submit-btn:hover {
      background-color: transparent;
      color: var(--primary-color);
    }

    .submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .success-message {
      display: none;
      padding: 20px;
      background-color: #2d5016;
      border: 2px solid #5db85d;
      color: #a6e3a1;
      border-radius: 6px;
      text-align: center;
      margin-bottom: 20px;
      animation: slideIn 0.3s ease;
    }

    .success-message.show {
      display: block;
    }

    .back-link {
      display: inline-block;
      margin-top: 30px;
      padding: 12px 30px;
      border: 2px solid var(--primary-color);
      color: var(--primary-color);
      text-decoration: none;
      border-radius: 50px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .back-link:hover {
      background-color: var(--primary-color);
      color: white;
    }

    @media (max-width: 480px) {
      .contact-title {
        font-size: 32px;
      }

      .contact-subtitle {
        font-size: 16px;
      }

      .submit-btn {
        padding: 10px 20px;
        font-size: 14px;
      }

      .back-link {
        padding: 10px 20px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <section class="contact-section">
    <div class="contact-container">
      <div class="contact-title">Get In Touch</div>
      <div class="contact-subtitle">
        <p style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;"> Passionate about solving problems through design and code? Me too! Whether you want to collaborate, discuss or just share ideas of your project. I'm open to exciting projects and partnerships. feel free to reach out! </p> 
    </div>

      <div class="success-message" id="successMessage">
        ✓ Message sent successfully! I'll get back to you soon.
      </div>

      <form class="contact-form" id="contactForm">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="from_name" name="name" placeholder="Your name" required>
          <div class="error" id="nameError"></div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="from_email" name="email" placeholder="your@email.com" required>
          <div class="error" id="emailError"></div>
        </div>

        <div class="form-group">
          <label for="subject">Subject</label>
          <input type="text" id="subject" name="subject" placeholder="What is this about?" required>
          <div class="error" id="subjectError"></div>
        </div>

        <div class="form-group">
          <label for="message">Message</label>
          <textarea id="message" name="message" placeholder="Drop your message..." required></textarea>
          <div class="error" id="messageError"></div>
        </div>

        <button type="submit" class="submit-btn">Send Message</button>
      </form>

      <a href="../index.html" class="back-link">← Back</a>
    </div>
  </section>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const contactForm = document.getElementById('contactForm');
  const successMessage = document.getElementById('successMessage');
  const submitBtn = contactForm.querySelector('.submit-btn');

  const clearErrors = () => {
    document.querySelectorAll('.error').forEach(err => {
      err.classList.remove('show');
      err.textContent = '';
    });
  };

  const validateForm = () => {
    clearErrors();
    let isValid = true;
    const name = document.getElementById('from_name').value.trim();
    const email = document.getElementById('from_email').value.trim();
    const subject = document.getElementById('subject').value.trim();
    const message = document.getElementById('message').value.trim();

    if (name.length < 2) {
      document.getElementById('nameError').textContent = 'Name must be at least 2 characters';
      document.getElementById('nameError').classList.add('show');
      isValid = false;
    }

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      document.getElementById('emailError').textContent = 'Please enter a valid email';
      document.getElementById('emailError').classList.add('show');
      isValid = false;
    }

    if (subject.length < 3) {
      document.getElementById('subjectError').textContent = 'Subject must be at least 3 characters';
      document.getElementById('subjectError').classList.add('show');
      isValid = false;
    }

    if (message.length < 10) {
      document.getElementById('messageError').textContent = 'Message must be at least 10 characters';
      document.getElementById('messageError').classList.add('show');
      isValid = false;
    }

    return isValid;
  };

  contactForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    if (!validateForm()) return;

    const originalText = submitBtn.textContent;
    submitBtn.textContent = 'Sending...';
    submitBtn.disabled = true;

    const templateParams = {
      from_name: document.getElementById('from_name').value.trim(),
      from_email: document.getElementById('from_email').value.trim(),
      subject: document.getElementById('subject').value.trim(),
      message: document.getElementById('message').value.trim(),
      reply_to: document.getElementById('from_email').value.trim()
    };

    try {
      await emailjs.send('service_73ukkn1', 'template_wtmvhv9', templateParams);
      successMessage.classList.add('show');
      contactForm.reset();
      setTimeout(() => successMessage.classList.remove('show'), 5000);
    } catch (err) {
      console.error('EmailJS Error:', err);
      const emailError = document.getElementById('emailError');
      emailError.textContent = 'Failed to send. Please try again later.';
      emailError.classList.add('show');
    } finally {
      submitBtn.textContent = originalText;
      submitBtn.disabled = false;
    }
  });
});
</script>
</body>
</html>
